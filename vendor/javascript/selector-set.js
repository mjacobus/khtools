var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var t={};(function(e,r){t=r()})(t,(function(){function SelectorSet(){if(!((this||e)instanceof SelectorSet))return new SelectorSet;(this||e).size=0;(this||e).uid=0;(this||e).selectors=[];(this||e).selectorObjects={};(this||e).indexes=Object.create((this||e).indexes);(this||e).activeIndexes=[]}var t=window.document.documentElement;var r=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.msMatchesSelector;SelectorSet.prototype.matchesSelector=function(e,t){return r.call(e,t)};SelectorSet.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)};SelectorSet.prototype.indexes=[];var o=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;SelectorSet.prototype.indexes.push({name:"ID",selector:function matchIdSelector(e){var t;if(t=e.match(o))return t[0].slice(1)},element:function getElementId(e){if(e.id)return[e.id]}});var n=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;SelectorSet.prototype.indexes.push({name:"CLASS",selector:function matchClassSelector(e){var t;if(t=e.match(n))return t[0].slice(1)},element:function getElementClassNames(e){var t=e.className;if(t){if("string"===typeof t)return t.split(/\s/);if("object"===typeof t&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var i=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;SelectorSet.prototype.indexes.push({name:"TAG",selector:function matchTagSelector(e){var t;if(t=e.match(i))return t[0].toUpperCase()},element:function getElementTagName(e){return[e.nodeName.toUpperCase()]}});SelectorSet.prototype.indexes["default"]={name:"UNIVERSAL",selector:function(){return true},element:function(){return[true]}};var s;s="function"===typeof window.Map?window.Map:function(){function Map(){(this||e).map={}}Map.prototype.get=function(t){return(this||e).map[t+" "]};Map.prototype.set=function(t,r){(this||e).map[t+" "]=r};return Map}();var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function parseSelectorIndexes(e,t){e=e.slice(0).concat(e["default"]);var r=e.length,o,n,i,s,l=t,a,f,u=[];do{c.exec("");if(i=c.exec(l)){l=i[3];if(i[2]||!l)for(o=0;o<r;o++){f=e[o];if(a=f.selector(i[1])){n=u.length;s=false;while(n--)if(u[n].index===f&&u[n].key===a){s=true;break}s||u.push({index:f,key:a});break}}}}while(i);return u}function findByPrototype(e,t){var r,o,n;for(r=0,o=e.length;r<o;r++){n=e[r];if(t.isPrototypeOf(n))return n}}SelectorSet.prototype.logDefaultIndexUsed=function(){};SelectorSet.prototype.add=function(t,r){var o,n,i,c,l,a,f,u,h=(this||e).activeIndexes,p=(this||e).selectors,d=(this||e).selectorObjects;if("string"===typeof t){o={id:(this||e).uid++,selector:t,data:r};d[o.id]=o;f=parseSelectorIndexes((this||e).indexes,t);for(n=0;n<f.length;n++){u=f[n];c=u.key;i=u.index;l=findByPrototype(h,i);if(!l){l=Object.create(i);l.map=new s;h.push(l)}i===(this||e).indexes["default"]&&this.logDefaultIndexUsed(o);a=l.map.get(c);if(!a){a=[];l.map.set(c,a)}a.push(o)}(this||e).size++;p.push(t)}};SelectorSet.prototype.remove=function(t,r){if("string"===typeof t){var o,n,i,s,c,l,a,f,u=(this||e).activeIndexes,h=(this||e).selectors=[],p=(this||e).selectorObjects,d={},S=1===arguments.length;o=parseSelectorIndexes((this||e).indexes,t);for(i=0;i<o.length;i++){n=o[i];s=u.length;while(s--){l=u[s];if(n.index.isPrototypeOf(l)){a=l.map.get(n.key);if(a){c=a.length;while(c--){f=a[c];if(f.selector===t&&(S||f.data===r)){a.splice(c,1);d[f.id]=true}}}break}}}for(i in d){delete p[i];(this||e).size--}for(i in p)h.push(p[i].selector)}};function sortById(e,t){return e.id-t.id}SelectorSet.prototype.queryAll=function(t){if(!(this||e).selectors.length)return[];var r={},o=[];var n=this.querySelectorAll((this||e).selectors.join(", "),t);var i,s,c,l,a,f,u,h;for(i=0,c=n.length;i<c;i++){a=n[i];f=this.matches(a);for(s=0,l=f.length;s<l;s++){h=f[s];if(r[h.id])u=r[h.id];else{u={id:h.id,selector:h.selector,data:h.data,elements:[]};r[h.id]=u;o.push(u)}u.elements.push(a)}}return o.sort(sortById)};SelectorSet.prototype.matches=function(t){if(!t)return[];var r,o,n,i,s,c,l,a,f,u,h;var p=(this||e).activeIndexes,d={},S=[];for(r=0,i=p.length;r<i;r++){l=p[r];a=l.element(t);if(a)for(o=0,s=a.length;o<s;o++)if(f=l.map.get(a[o]))for(n=0,c=f.length;n<c;n++){u=f[n];h=u.id;if(!d[h]&&this.matchesSelector(t,u.selector)){d[h]=true;S.push(u)}}}return S.sort(sortById)};return SelectorSet}));var r=t;export default r;

