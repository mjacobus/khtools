import e from"selector-set";var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var r={};(function(t,a){a(r,e)})(r,(function(e,r){r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r["default"]:r;var a={};var n={};var o=new WeakMap;var i=new WeakMap;var f=new WeakMap;var u=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function before(e,t,r){var a=e[t];e[t]=function(){r.apply(e,arguments);return a.apply(e,arguments)};return e}function matches(e,t,r){var a=[];var n=t;do{if(1!==n.nodeType)break;var o=e.matches(n);if(o.length){var i={node:n,observers:o};r?a.unshift(i):a.push(i)}}while(n=n.parentElement);return a}function trackPropagation(){o.set(this||t,true)}function trackImmediate(){o.set(this||t,true);i.set(this||t,true)}function getCurrentTarget(){return f.get(this||t)||null}function defineCurrentTarget(e,t){u&&Object.defineProperty(e,"currentTarget",{configurable:true,enumerable:true,get:t||u.get})}function canDispatch(e){try{e.eventPhase;return true}catch(e){return false}}function dispatch(e){if(canDispatch(e)){var t=1===e.eventPhase?n:a;var r=t[e.type];if(r){var u=matches(r,e.target,1===e.eventPhase);if(u.length){before(e,"stopPropagation",trackPropagation);before(e,"stopImmediatePropagation",trackImmediate);defineCurrentTarget(e,getCurrentTarget);for(var c=0,s=u.length;c<s;c++){if(o.get(e))break;var v=u[c];f.set(e,v.node);for(var l=0,p=v.observers.length;l<p;l++){if(i.get(e))break;v.observers[l].data.call(v.node,e)}}f["delete"](e);defineCurrentTarget(e)}}}}function on(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var f=!!i.capture;var u=f?n:a;var c=u[e];if(!c){c=new r;u[e]=c;document.addEventListener(e,dispatch,f)}c.add(t,o)}function off(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i=!!o.capture;var f=i?n:a;var u=f[e];if(u){u.remove(t,r);if(!u.size){delete f[e];document.removeEventListener(e,dispatch,i)}}}function fire(e,t,r){return e.dispatchEvent(new CustomEvent(t,{bubbles:true,cancelable:true,detail:r}))}e.fire=fire;e.off=off;e.on=on;Object.defineProperty(e,"__esModule",{value:true})}));const a=r.fire,n=r.off,o=r.on,i=r.__esModule;export default r;export{i as __esModule,a as fire,n as off,o as on};

